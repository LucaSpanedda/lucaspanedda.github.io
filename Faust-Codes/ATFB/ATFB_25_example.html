<!DOCTYPE html>
<html lang="en">
<body>
    <faust-editor>
<!--
import("stdfaust.lib");

// Vadim Zavalishin's Onepole TPT Filter (Topology Preserving Transform)  
onePoleTPT(cf, x) = loop ~ _ : ! , si.bus(3)
     with {
         g = tan(cf * PI * ma.T);
         G = g / (1.0 + g);
         loop(s) = u , lp , hp , ap
             with {
             v = (x - s) * G; u = v + lp; lp = v + s; hp = x - lp; ap = lp - hp;
             };
     };
process = onePoleTPT;

// Lowpass and Highpass TPT
LPTPT(cf, x) = onePoleTPT(cf, x) : (_ , ! , !);
HPTPT(cf, x) = onePoleTPT(cf, x) : (! , _ , !);

// Allpass TPT
APTPT(cf, x) = onePoleTPT(cf, x) : (!, !, _);
-->
    </faust-editor>
    <script src="faust-web-component.js"></script>
</body>
</html>
