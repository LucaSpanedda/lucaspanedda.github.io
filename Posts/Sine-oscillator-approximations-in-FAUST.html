<!DOCTYPE html>
<html lang="en"><head><title>Sine oscillator approximations in FAUST</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=IBM Plex Mono:wght@400;700&amp;family=IBM Plex Mono:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="Luca Spanedda"/><meta property="og:title" content="Sine oscillator approximations in FAUST"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Sine oscillator approximations in FAUST"/><meta name="twitter:description" content="Introduction While FAUST provides optimized wavetable-based oscillators (os.osc), understanding explicit mathematical approximations of sinusoidal functions remains valuable ..."/><meta property="og:description" content="Introduction While FAUST provides optimized wavetable-based oscillators (os.osc), understanding explicit mathematical approximations of sinusoidal functions remains valuable ..."/><meta property="og:image:type" content="image/webp"/><meta property="og:image:alt" content="Introduction While FAUST provides optimized wavetable-based oscillators (os.osc), understanding explicit mathematical approximations of sinusoidal functions remains valuable ..."/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:url" content="https://lucaspanedda.github.io/static/xl.png"/><meta name="twitter:image" content="https://lucaspanedda.github.io/static/xl.png"/><meta property="og:image" content="https://lucaspanedda.github.io/static/xl.png"/><meta property="twitter:domain" content="lucaspanedda.github.io"/><meta property="og:url" content="https://lucaspanedda.github.io/Posts/Sine-oscillator-approximations-in-FAUST"/><meta property="twitter:url" content="https://lucaspanedda.github.io/Posts/Sine-oscillator-approximations-in-FAUST"/><link rel="icon" href="../static/xs.png"/><meta name="description" content="Introduction While FAUST provides optimized wavetable-based oscillators (os.osc), understanding explicit mathematical approximations of sinusoidal functions remains valuable ..."/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="Posts/Sine-oscillator-approximations-in-FAUST"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="..">Luca Spanedda</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><div class="explorer"><button type="button" id="mobile-explorer" class="collapsed hide-until-loaded" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;Compositions&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Posts&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Studies&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Studies/PhD&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Studies/SMERM&quot;,&quot;collapsed&quot;:true}]" data-mobile="true" aria-controls="explorer-content" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" id="desktop-explorer" class="title-button" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;Compositions&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Posts&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Studies&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Studies/PhD&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Studies/SMERM&quot;,&quot;collapsed&quot;:true}]" data-mobile="false" aria-controls="explorer-content" aria-expanded="true"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Compositions"><button class="folder-button"><span class="folder-title">Compositions</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Compositions"><li><a href="../Compositions/In-Finite" data-for="Compositions/In-Finite">In-Finite</a></li><li><a href="../Compositions/RITI---Room-Is-The-Instrument" data-for="Compositions/RITI---Room-Is-The-Instrument">RITI - Room Is The Instrument</a></li><li><a href="../Compositions/Waste-Kompost-Radio" data-for="Compositions/Waste-Kompost-Radio">Waste Kompost Radio</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Posts"><button class="folder-button"><span class="folder-title">Posts</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Posts"><li><a href="../Posts/About-this-filters-business---a-tutorial-on-Digital-Filters-in-Faust" data-for="Posts/About-this-filters-business---a-tutorial-on-Digital-Filters-in-Faust">About this filters business - a tutorial on Digital Filters in Faust</a></li><li><a href="../Posts/Digital-Reverberation---a-tutorial-in-Faust" data-for="Posts/Digital-Reverberation---a-tutorial-in-Faust">Digital Reverberation - a tutorial in Faust</a></li><li><a href="../Posts/Exploring-Pseudo-Random-and-Stochastic-Signals-in-Digital-Sound-Synthesis" data-for="Posts/Exploring-Pseudo-Random-and-Stochastic-Signals-in-Digital-Sound-Synthesis">Exploring Pseudo-Random and Stochastic Signals in Digital Sound Synthesis</a></li><li><a href="../Posts/Sine-oscillator-approximations-in-FAUST" data-for="Posts/Sine-oscillator-approximations-in-FAUST">Sine oscillator approximations in FAUST</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Studies"><button class="folder-button"><span class="folder-title">Studies</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Studies"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Studies/PhD"><button class="folder-button"><span class="folder-title">PhD</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Studies/PhD"><li><a href="../Studies/PhD/PhD" data-for="Studies/PhD/PhD">PhD</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Studies/SMERM"><button class="folder-button"><span class="folder-title">SMERM</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Studies/SMERM"><li><a href="../Studies/SMERM/SMERM" data-for="Studies/SMERM/SMERM">SMERM</a></li></ul></div></li></ul></div></li><li><a href="../Biography" data-for="Biography">Biography</a></li><li><a href="../Blog" data-for="Blog">Blog</a></li><li><a href="../Contact" data-for="Contact">Contact</a></li><li><a href="../CV" data-for="CV">CV</a></li><li><a href="../Links" data-for="Links">Links</a></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../Posts/">Posts</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Sine oscillator approximations in FAUST</a></div></nav><h1 class="article-title">Sine oscillator approximations in FAUST</h1><p show-comma="true" class="content-meta"><time datetime="2025-11-16T12:22:16.502Z">Nov 16, 2025</time><span>6 min read</span></p></div></div><article class="popover-hint"><h2 id="introduction">Introduction<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#introduction" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>While FAUST provides optimized wavetable-based oscillators (<code>os.osc</code>), understanding explicit mathematical approximations of sinusoidal functions remains valuable for several reasons: educational insight into DSP fundamentals, scenarios requiring zero memory overhead, and contexts where algorithmic synthesis is preferred over lookup tables.</p>
<p>Here we examines three distinct approximation strategies—Taylor series expansion, polynomial waveshaping, and rational approximation—with focus on their computational cost and practical implementation trade-offs.</p>
<h2 id="the-fundamental-challenge">The Fundamental Challenge<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#the-fundamental-challenge" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>A phasor generates a linear ramp from 0 to 1. Converting this to a sinusoid requires either:</p>
<ol>
<li><strong>Wavetable lookup</strong> (~5-6 operations: multiplication, cast, memory reads, interpolation)</li>
<li><strong>Mathematical approximation</strong> (variable cost depending on method)</li>
</ol>
<p>Commercial synthesizers universally employ wavetables because memory (64KB for a high-quality table) is negligible compared to the performance gain. However, algorithmic approaches offer instructive alternatives.</p>
<h2 id="triangle-wave-conversion">Triangle Wave Conversion<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#triangle-wave-conversion" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>The first processing step is converting the phasor to a triangle wave that oscillates between -1 and +1. This normalization simplifies the subsequent sine approximation.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="faust" data-theme="github-light github-dark"><code data-language="faust" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>tri(x) = (x &lt; 0.5) * (4 * x - 1) + (x >= 0.5) * (3 - 4 * x);</span></span></code></pre></figure>
<p><strong>profile:</strong></p>
<ul>
<li>1 comparison (<code>x &lt; 0.5</code>)</li>
<li>1 comparison (<code>x >= 0.5</code>)</li>
<li>4 multiplications</li>
<li>3 additions/subtractions</li>
</ul>
<p><strong>Total: ~6-8 operations</strong> (comparisons compile to conditional moves or masked operations in SIMD contexts)</p>
<p>This triangle function is computationally lean and avoids expensive operations like <code>floor()</code> or modulo that higher-level abstractions (<code>ma.frac</code>) might introduce.</p>
<h2 id="method-1-taylor-series-expansion">Method 1: Taylor Series Expansion<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#method-1-taylor-series-expansion" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>The Taylor series for sine around zero is:</p>
<pre><code>sin(x) = x - x³/6 + x⁵/120 - x⁷/5040 + ...
</code></pre>
<p>Naive implementation would recompute powers repeatedly. The optimized version uses <strong>Horner’s method</strong> to minimize operations:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="faust" data-theme="github-light github-dark"><code data-language="faust" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>sintaylor(x) = x * (1 - x * x * (1.0/6 - x * x * (1.0/120 - x * x / 5040)));</span></span></code></pre></figure>
<p><strong>profile:</strong></p>
<ul>
<li>1 multiplication to compute <code>x²</code></li>
<li>5 additional multiplications (reusing <code>x²</code>)</li>
<li>3 subtractions</li>
<li>Divisions by constants are precomputed by the compiler</li>
</ul>
<p><strong>Total: ~6 multiplications + 3 additions</strong></p>
<p><strong>Precision:</strong> With 4 terms (up to x⁷), THD (Total Harmonic Distortion) is approximately 0.01%. Adding one more term (x⁹/362880) reduces this to ~0.0001%.</p>
<p><strong>Scaling factor:</strong> The triangle output is multiplied by 0.90 instead of π/2 ≈ 1.5708 to keep the argument within the convergence range where the series is most accurate. This is a practical compromise that slightly reduces amplitude but significantly improves precision.</p>
<h2 id="method-2-polynomial-waveshaping-minimax-approximation">Method 2: Polynomial Waveshaping (Minimax Approximation)<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#method-2-polynomial-waveshaping-minimax-approximation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Unlike Taylor series (which converges around a single point), minimax polynomials are optimized to minimize the maximum error across an entire interval using Chebyshev or Remez exchange algorithms.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="faust" data-theme="github-light github-dark"><code data-language="faust" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>sinpoly(x) = x * (1.5708 - 0.645964 * x * x);</span></span></code></pre></figure>
<p><strong>Assembly profile:</strong></p>
<ul>
<li>1 multiplication (<code>x²</code>)</li>
<li>2 multiplications</li>
<li>1 subtraction</li>
</ul>
<p><strong>Total: ~3 multiplications + 1 addition</strong></p>
<p>This is <strong>half the computational cost</strong> of the Taylor series implementation while maintaining comparable accuracy for audio applications. The coefficients (1.5708, 0.645964) are empirically derived to minimize error in the [-π/2, π/2] range.</p>
<p><strong>Trade-off:</strong> Fewer terms mean this approximation degrades faster outside the optimal range, but for normalized triangle input, the error remains below perceptual thresholds.</p>
<h2 id="method-3-bhaskaras-rational-approximation">Method 3: Bhaskara’s Rational Approximation<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#method-3-bhaskaras-rational-approximation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Bhaskara I (7th century Indian mathematician) derived a rational approximation:</p>
<pre><code>sin(x) ≈ 4x(π - x) / (π² - x(π - x))    for x ∈ [0, π]
</code></pre>
<p>Implementation requires careful input conditioning for positive and negative polarities:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="faust" data-theme="github-light github-dark"><code data-language="faust" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>sinbhaskara(x) = (4 * x * (PI - x)) / (PI * PI - x * (PI - x));</span></span>
<span data-line> </span>
<span data-line><span>sineoscbhaskara(x) = ((x - 0.5) * 2.0) &lt;: </span></span>
<span data-line><span>    sinbhaskara(abs(_) * PI) * (((_ &lt; 0.0) * -1.0) + (_ > 0.0)) * 0.7;</span></span></code></pre></figure>
<p><strong>profile:</strong></p>
<ul>
<li>Input normalization: 2 multiplications, 1 subtraction</li>
<li>Absolute value: 1 comparison + conditional</li>
<li>Bhaskara formula: 6 multiplications, 3 additions, 1 division</li>
<li>Sign restoration: 2 comparisons, 2 multiplications</li>
</ul>
<p><strong>Total: ~9 multiplications + 1 division + 4 comparisons</strong></p>
<p><strong>Characteristics:</strong></p>
<ul>
<li>Division operation is expensive (~10-20 cycles on modern CPUs vs ~3-5 for multiplication)</li>
<li>Maximum error is ~0.0016 over [0, π] (historically remarkable for its simplicity)</li>
<li>The 0.7 scaling factor compensates for the approximation’s slight amplitude excess</li>
</ul>
<h2 id="practical-considerations">Practical Considerations<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#practical-considerations" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p><strong>When to use each method:</strong></p>
<ul>
<li><strong>Polynomial waveshaping</strong>: Best balance for real-time DSP. Minimal CPU cost with acceptable precision.</li>
<li><strong>Taylor series</strong>: Preferred when precision is critical and extra terms can be added as needed.</li>
<li><strong>Bhaskara</strong>: Historical interest and educational value. The division operation makes it less suitable for high-polyphony contexts.</li>
</ul>
<p>The performance difference becomes critical in resource-constrained environments (embedded systems, mobile devices, or when CPU headroom is needed for filters, effects, and modulation).</p>
<h2 id="code-implementation">Code Implementation<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#code-implementation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="faust" data-theme="github-light github-dark"><code data-language="faust" data-theme="github-light github-dark" style="display:grid;"><span data-line><span>import(&quot;stdfaust.lib&quot;);</span></span>
<span data-line> </span>
<span data-line><span>// High-precision π constant</span></span>
<span data-line><span>PI = 3.141592653589793238462643383279502884197169399375105820974944592307816;</span></span>
<span data-line> </span>
<span data-line><span>// Triangle wave converter (phasor [0,1] to triangle [-1,1])</span></span>
<span data-line><span>tri(x) = (x &lt; 0.5) * (4 * x - 1) + (x >= 0.5) * (3 - 4 * x);</span></span>
<span data-line> </span>
<span data-line><span>// Method 1: Taylor series (Horner's method, 4 terms)</span></span>
<span data-line><span>sintaylor(x) = x * (1 - x * x * (1.0/6 - x * x * (1.0/120 - x * x / 5040)));</span></span>
<span data-line><span>// Or more</span></span>
<span data-line><span>sintaylor2(x) = x - (x * x * x) / 6 + (x * x * x * x * x) / 120 - </span></span>
<span data-line><span>    (x * x * x * x * x * x * x) / 5040;</span></span>
<span data-line><span>sineosctaylor(x) = sintaylor(tri(x) * 0.5 * PI);</span></span>
<span data-line><span>// out</span></span>
<span data-line><span>process = os.phasor(1, si.smoo(hslider(&quot;F&quot;, 440, 20, 1000, 0.001))) : </span></span>
<span data-line><span>    sineosctaylor * si.smoo(hslider(&quot;G&quot;, 0.8, 0, 1, 0.001));</span></span>
<span data-line> </span>
<span data-line><span>// Method 2: Minimax polynomial approximation  </span></span>
<span data-line><span>sinpoly(x) = x * (1.5708 - 0.645964 * x * x);</span></span>
<span data-line><span>sineoscpoly(x) = sinpoly(tri(x) * 0.90);</span></span>
<span data-line><span>// out</span></span>
<span data-line><span>/*</span></span>
<span data-line><span>process = os.phasor(1, si.smoo(hslider(&quot;F&quot;, 440, 20, 1000, 0.001))) : </span></span>
<span data-line><span>    sineoscpoly * si.smoo(hslider(&quot;G&quot;, 0.8, 0, 1, 0.001));</span></span>
<span data-line><span>*/</span></span>
<span data-line> </span>
<span data-line><span>// Method 3: Bhaskara's rational approximation</span></span>
<span data-line><span>sinbhaskara(x) = (4 * x * (PI - x)) / (PI * PI - x * (PI - x));</span></span>
<span data-line><span>sineoscbhaskara(x) = ((x - 0.5) * 2.0) &lt;: </span></span>
<span data-line><span>    sinbhaskara(abs(_) * PI) * (((_ &lt; 0.0) * -1.0) + (_ > 0.0)) * 0.7;</span></span>
<span data-line><span>// out</span></span>
<span data-line><span>/*</span></span>
<span data-line><span>process = os.phasor(1, si.smoo(hslider(&quot;F&quot;, 440, 20, 1000, 0.001))) : </span></span>
<span data-line><span>    sineoscbhaskara * si.smoo(hslider(&quot;G&quot;, 0.8, 0, 1, 0.001));</span></span>
<span data-line><span>*/</span></span></code></pre></figure>
<h2 id="conclusion">Conclusion<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#conclusion" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>While wavetable oscillators remain the industry standard for production environments, understanding these approximation methods provides insight into the computational mechanics of DSP. The polynomial waveshaping approach offers an excellent compromise between efficiency and precision, requiring only ~3× the operations of a wavetable while eliminating memory requirements entirely.</p>
<p>For educational purposes, experimenting with these methods in FAUST reveals how mathematical abstractions translate to actual CPU cycles—a critical skill for optimizing real-time audio processing systems.</p></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button><div class="toc desktop-only"><button type="button" id="toc" class aria-controls="toc-content" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content" class><ul class="overflow"><li class="depth-0"><a href="#introduction" data-for="introduction">Introduction</a></li><li class="depth-0"><a href="#the-fundamental-challenge" data-for="the-fundamental-challenge">The Fundamental Challenge</a></li><li class="depth-0"><a href="#triangle-wave-conversion" data-for="triangle-wave-conversion">Triangle Wave Conversion</a></li><li class="depth-0"><a href="#method-1-taylor-series-expansion" data-for="method-1-taylor-series-expansion">Method 1: Taylor Series Expansion</a></li><li class="depth-0"><a href="#method-2-polynomial-waveshaping-minimax-approximation" data-for="method-2-polynomial-waveshaping-minimax-approximation">Method 2: Polynomial Waveshaping (Minimax Approximation)</a></li><li class="depth-0"><a href="#method-3-bhaskaras-rational-approximation" data-for="method-3-bhaskaras-rational-approximation">Method 3: Bhaskara’s Rational Approximation</a></li><li class="depth-0"><a href="#practical-considerations" data-for="practical-considerations">Practical Considerations</a></li><li class="depth-0"><a href="#code-implementation" data-for="code-implementation">Code Implementation</a></li><li class="depth-0"><a href="#conclusion" data-for="conclusion">Conclusion</a></li></ul></div></div></div><footer class><p><a href="https://lucaspanedda.github.io/Biography">Luca Spanedda</a> © 2025</p><ul><li><a href="https://github.com/LucaSpanedda">GitHub</a></li><li><a href="https://soundcloud.com/luca-spanedda-1995">Soundcloud</a></li><li><a href="https://www.youtube.com/channel/UCRCkVPYRcgo84G8W_uJZuaw">Youtube</a></li><li><a href="https://www.instagram.com/luca_spanedda/">Instagram</a></li><li><a href="https://conservatoriosantacecilia.academia.edu/LucaSpanedda">Academia</a></li></ul></footer></div></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">
        const socket = new WebSocket('ws://localhost:3001')
        // reload(true) ensures resources like images and scripts are fetched again in firefox
        socket.addEventListener('message', () => document.location.reload(true))
      </script><script src="../postscript.js" type="module"></script></html>